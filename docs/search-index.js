crystal_doc_search_index_callback({"repository_name":"github.com/cloudamqp/amqp-client.cr","body":"[![Build Status](https://travis-ci.org/cloudamqp/amqp-client.cr.svg?branch=master)](https://travis-ci.org/cloudamqp/amqp-client.cr)\n\n# amqp-client\n\nAn AMQP 0-9-1 client for Crystal.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n```yaml\ndependencies:\n  amqp-client:\n    github: cloudamqp/amqp-client.cr\n```\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"amqp-client\"\n\nAMQP::Client.start(\"amqp://guest:guest@localhost\") do |c|\n  c.channel do |ch|\n    q = ch.queue(\"my-queue\")\n    q.subscribe(no_ack: false) do |msg|\n      puts \"Received: #{msg.body_io.to_s}\"\n      ch.basic_ack(msg.delivery_tag)\n    end\n\n    # publish directly to a queue without confirm\n    q.publish \"msg\"\n\n    # publish directly to a queue, blocking while waiting for confirm\n    q.publish_confirm \"msg\"\n\n    # publish to any exchange/routing-key\n    ch.basic_publish \"msg\", exchange: \"amq.topic\", routing_key: \"a\"\n\n    # publish to any exchange/routing-key and wait for confirm\n    ch.basic_publish_confirm \"msg\", exchange: \"amq.topic\", routing_key: \"a\"\n\n    # This statement will block until a message has arrived\n    # The only way to \"escape\" the block is to unsubscribe\n    q.subscribe(tag: \"myconsumer\", block: true) do |msg|\n      q.unsubscribe(\"myconsumer\")\n    end\n\n    # Consume and ack, nack or reject msgs\n    ch.basic_consume(\"queue\", tag: \"consumer-tag\", no_ack: false, exclusive: false, block: false) do |msg|\n      case msg.body_io.to_s\n      when \"ack\"\n        ch.ack(msg.delivery_tag)\n      when \"reject\"\n        ch.reject(msg.delivery_tag, requeue: true)\n      when \"nack\"\n        ch.nack(msg.delivery_tag, requeue: true, multiple: true)\n      end\n    end\n\n    ch.prefetch(count: 1000) # alias for basic_qos\n\n    name, message_count, consumer_count =\n      ch.queue_declare(name: \"myqueue\", passive: false, durable: true,\n                       exclusive: false, auto_delete: false,\n                       args = Arguments.new)\n    q = ch.queue # temporary queue that is deleted when the channel is closed\n    ch.queue_purge(\"myqueue\")\n    ch.queue_bind(\"myqueue\", \"amq.topic\", \"routing-key\")\n    ch.queue_unbind(\"myqueue\", \"amq.topic\", \"routing-key\")\n    msg = ch.basic_get(\"myqueue\", no_ack: true)\n    ch.basic_ack(msg.delivery_tag)\n    ch.queue_delete(\"myqueue\")\n    ch.exchange_declare(\"my-exchange\", type: \"topic\")\n    ch.exchange_delete(\"my-exchange\")\n  end\nend\n```\n\n## Contributing\n\n1. [Fork it](https://github.com/cloudamqp/amqp-client.cr/fork)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Carl Hörberg](https://github.com/carlhoerberg) - creator and maintainer\n- [Anders Bälter](https://github.com/baelter)\n","program":{"html_id":"github.com/cloudamqp/amqp-client.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP","path":"AMQP.html","kind":"module","full_name":"AMQP","name":"AMQP","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"amqp-client/sparse_array.cr","line_number":1,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","path":"AMQP/Client.html","kind":"class","full_name":"AMQP::Client","name":"Client","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/sparse_array.cr","line_number":1,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr"},{"filename":"amqp-client/connection.cr","line_number":9,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr"},{"filename":"amqp-client/message.cr","line_number":4,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"},{"filename":"amqp-client/queue.cr","line_number":3,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr"},{"filename":"amqp-client/exchange.cr","line_number":3,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr"},{"filename":"amqp-client/sync.cr","line_number":1,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sync.cr"},{"filename":"amqp-client/channel.cr","line_number":7,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr"},{"filename":"amqp-client/version.cr","line_number":1,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/version.cr"},{"filename":"amqp-client.cr","line_number":8,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Log","name":"Log","value":"::Log.for(self)","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"\"0.5.16\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP","kind":"module","full_name":"AMQP","name":"AMQP"},"doc":null,"summary":null,"class_methods":[{"id":"start(url:String|URI,&blk:AMQP::Client::Connection->_)-class-method","html_id":"start(url:String|URI,&amp;blk:AMQP::Client::Connection-&gt;_)-class-method","name":"start","doc":null,"summary":null,"abstract":false,"args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String | URI"}],"args_string":"(url : String | URI, &blk : AMQP::Client::Connection -> _)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L11","def":{"name":"start","args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String | URI"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(AMQP::Client::Connection -> _)"},"return_type":"","visibility":"Public","body":"begin\n  conn = (self.new(url)).connect\n  yield conn\nensure\n  conn.try(&.close)\nend"}},{"id":"start(host=&quot;localhost&quot;,port=5672,vhost=&quot;/&quot;,user=&quot;guest&quot;,password=&quot;guest&quot;,tls=false,channel_max=UInt16::MAX,frame_max=131072_u32,heartbeat=0_u16,verify_mode=OpenSSL::SSL::VerifyMode::PEER,&blk:AMQP::Client::Connection->_)-class-method","html_id":"start(host=&amp;quot;localhost&amp;quot;,port=5672,vhost=&amp;quot;/&amp;quot;,user=&amp;quot;guest&amp;quot;,password=&amp;quot;guest&amp;quot;,tls=false,channel_max=UInt16::MAX,frame_max=131072_u32,heartbeat=0_u16,verify_mode=OpenSSL::SSL::VerifyMode::PEER,&amp;blk:AMQP::Client::Connection-&gt;_)-class-method","name":"start","doc":null,"summary":null,"abstract":false,"args":[{"name":"host","doc":null,"default_value":"\"localhost\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5672","external_name":"port","restriction":""},{"name":"vhost","doc":null,"default_value":"\"/\"","external_name":"vhost","restriction":""},{"name":"user","doc":null,"default_value":"\"guest\"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"\"guest\"","external_name":"password","restriction":""},{"name":"tls","doc":null,"default_value":"false","external_name":"tls","restriction":""},{"name":"channel_max","doc":null,"default_value":"UInt16::MAX","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"131072_u32","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"0_u16","external_name":"heartbeat","restriction":""},{"name":"verify_mode","doc":null,"default_value":"OpenSSL::SSL::VerifyMode::PEER","external_name":"verify_mode","restriction":""}],"args_string":"(host = <span class=\"s\">&quot;localhost&quot;</span>, port = <span class=\"n\">5672</span>, vhost = <span class=\"s\">&quot;/&quot;</span>, user = <span class=\"s\">&quot;guest&quot;</span>, password = <span class=\"s\">&quot;guest&quot;</span>, tls = <span class=\"n\">false</span>, channel_max = <span class=\"t\">UInt16</span><span class=\"t\">::</span><span class=\"t\">MAX</span>, frame_max = <span class=\"n\">131072_u32</span>, heartbeat = <span class=\"n\">0_u16</span>, verify_mode = <span class=\"t\">OpenSSL</span><span class=\"t\">::</span><span class=\"t\">SSL</span><span class=\"t\">::</span><span class=\"t\">VerifyMode</span><span class=\"t\">::</span><span class=\"t\">PEER</span>, &blk : AMQP::Client::Connection -> _)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L18","def":{"name":"start","args":[{"name":"host","doc":null,"default_value":"\"localhost\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5672","external_name":"port","restriction":""},{"name":"vhost","doc":null,"default_value":"\"/\"","external_name":"vhost","restriction":""},{"name":"user","doc":null,"default_value":"\"guest\"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"\"guest\"","external_name":"password","restriction":""},{"name":"tls","doc":null,"default_value":"false","external_name":"tls","restriction":""},{"name":"channel_max","doc":null,"default_value":"UInt16::MAX","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"131072_u32","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"0_u16","external_name":"heartbeat","restriction":""},{"name":"verify_mode","doc":null,"default_value":"OpenSSL::SSL::VerifyMode::PEER","external_name":"verify_mode","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(AMQP::Client::Connection -> _)"},"return_type":"","visibility":"Public","body":"begin\n  conn = (self.new(host, port, vhost, user, password, tls, channel_max, frame_max, heartbeat, verify_mode)).connect\n  yield conn\nensure\n  conn.try(&.close)\nend"}}],"constructors":[{"id":"new(url:String)-class-method","html_id":"new(url:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String"}],"args_string":"(url : String)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L28","def":{"name":"new","args":[{"name":"url","doc":null,"default_value":"","external_name":"url","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"uri = URI.parse(url)\nself.new(uri)\n"}},{"id":"new(uri:URI)-class-method","html_id":"new(uri:URI)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L33","def":{"name":"new","args":[{"name":"uri","doc":null,"default_value":"","external_name":"uri","restriction":"URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"tls = uri.scheme == \"amqps\"\nhost = uri.host.to_s.empty? ? \"localhost\" : uri.host.to_s\nport = uri.port || (tls ? 5671 : 5672)\nvhost = if (path = uri.path) && path.bytesize > 1\n  URI.decode_www_form(path[1..-1])\nelse\n  \"/\"\nend\nuser = uri.user || \"guest\"\npassword = uri.password || \"guest\"\narguments = uri.query.try do |__arg2|\n  (__arg2.split(\"&\")).map(&.split(\"=\")).to_h\nend || Hash(String, String).new\nheartbeat = (arguments.fetch(\"heartbeat\", 0_u16)).to_u16\nframe_max = (arguments.fetch(\"frame_max\", 131072_u32)).to_u32\nchannel_max = (arguments.fetch(\"channel_max\", UInt16::MAX)).to_u16\nverify_mode = case (arguments.fetch(\"verify\", \"\")).downcase\nwhen \"none\"\n  OpenSSL::SSL::VerifyMode::NONE\nelse\n  OpenSSL::SSL::VerifyMode::PEER\nend\nself.new(host, port, vhost, user, password, tls, channel_max, frame_max, heartbeat, verify_mode)\n"}},{"id":"new(host=&quot;localhost&quot;,port=5672,vhost=&quot;/&quot;,user=&quot;guest&quot;,password=&quot;guest&quot;,tls=false,channel_max=UInt16::MAX,frame_max=131072_u32,heartbeat=0_u16,verify_mode=OpenSSL::SSL::VerifyMode::PEER)-class-method","html_id":"new(host=&amp;quot;localhost&amp;quot;,port=5672,vhost=&amp;quot;/&amp;quot;,user=&amp;quot;guest&amp;quot;,password=&amp;quot;guest&amp;quot;,tls=false,channel_max=UInt16::MAX,frame_max=131072_u32,heartbeat=0_u16,verify_mode=OpenSSL::SSL::VerifyMode::PEER)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"host","doc":null,"default_value":"\"localhost\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5672","external_name":"port","restriction":""},{"name":"vhost","doc":null,"default_value":"\"/\"","external_name":"vhost","restriction":""},{"name":"user","doc":null,"default_value":"\"guest\"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"\"guest\"","external_name":"password","restriction":""},{"name":"tls","doc":null,"default_value":"false","external_name":"tls","restriction":""},{"name":"channel_max","doc":null,"default_value":"UInt16::MAX","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"131072_u32","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"0_u16","external_name":"heartbeat","restriction":""},{"name":"verify_mode","doc":null,"default_value":"OpenSSL::SSL::VerifyMode::PEER","external_name":"verify_mode","restriction":""}],"args_string":"(host = <span class=\"s\">&quot;localhost&quot;</span>, port = <span class=\"n\">5672</span>, vhost = <span class=\"s\">&quot;/&quot;</span>, user = <span class=\"s\">&quot;guest&quot;</span>, password = <span class=\"s\">&quot;guest&quot;</span>, tls = <span class=\"n\">false</span>, channel_max = <span class=\"t\">UInt16</span><span class=\"t\">::</span><span class=\"t\">MAX</span>, frame_max = <span class=\"n\">131072_u32</span>, heartbeat = <span class=\"n\">0_u16</span>, verify_mode = <span class=\"t\">OpenSSL</span><span class=\"t\">::</span><span class=\"t\">SSL</span><span class=\"t\">::</span><span class=\"t\">VerifyMode</span><span class=\"t\">::</span><span class=\"t\">PEER</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L57","def":{"name":"new","args":[{"name":"host","doc":null,"default_value":"\"localhost\"","external_name":"host","restriction":""},{"name":"port","doc":null,"default_value":"5672","external_name":"port","restriction":""},{"name":"vhost","doc":null,"default_value":"\"/\"","external_name":"vhost","restriction":""},{"name":"user","doc":null,"default_value":"\"guest\"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"\"guest\"","external_name":"password","restriction":""},{"name":"tls","doc":null,"default_value":"false","external_name":"tls","restriction":""},{"name":"channel_max","doc":null,"default_value":"UInt16::MAX","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"131072_u32","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"0_u16","external_name":"heartbeat","restriction":""},{"name":"verify_mode","doc":null,"default_value":"OpenSSL::SSL::VerifyMode::PEER","external_name":"verify_mode","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(host, port, vhost, user, password, tls, channel_max, frame_max, heartbeat, verify_mode)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"connect:Connection-instance-method","html_id":"connect:Connection-instance-method","name":"connect","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Connection","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L62","def":{"name":"connect","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Connection","visibility":"Public","body":"if @host.starts_with?('/')\n  socket = connect_unix\n  Connection.start(socket, @user, @password, @vhost, @channel_max, @frame_max, @heartbeat)\nelse\n  if @tls\n    socket = connect_tls(connect_tcp)\n    Connection.start(socket, @user, @password, @vhost, @channel_max, @frame_max, @heartbeat)\n  else\n    socket = connect_tcp\n    Connection.start(socket, @user, @password, @vhost, @channel_max, @frame_max, @heartbeat)\n  end\nend"}}],"macros":[],"types":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Arguments","path":"AMQP/Client/Arguments.html","kind":"alias","full_name":"AMQP::Client::Arguments","name":"Arguments","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"amqp-client.cr","line_number":108,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":true,"aliased":"AMQ::Protocol::Table","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","path":"AMQP/Client/BaseMessage.html","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage","abstract":true,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/message.cr","line_number":5,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","kind":"struct","full_name":"AMQP::Client::Message","name":"Message"},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/ReturnedMessage","kind":"struct","full_name":"AMQP::Client::ReturnedMessage","name":"ReturnedMessage"}],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(exchange:String,routing_key:String,properties:AMQ::Protocol::Properties,body_io:IO::Memory)-class-method","html_id":"new(exchange:String,routing_key:String,properties:AMQ::Protocol::Properties,body_io:IO::Memory)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"}],"args_string":"(exchange : String, routing_key : String, properties : AMQ::Protocol::Properties, body_io : IO::Memory)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L8","def":{"name":"new","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(exchange, routing_key, properties, body_io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"body_io:IO::Memory-instance-method","html_id":"body_io:IO::Memory-instance-method","name":"body_io","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : IO::Memory","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L6","def":{"name":"body_io","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@body_io"}},{"id":"exchange:String-instance-method","html_id":"exchange:String-instance-method","name":"exchange","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L6","def":{"name":"exchange","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@exchange"}},{"id":"properties:AMQ::Protocol::Properties-instance-method","html_id":"properties:AMQ::Protocol::Properties-instance-method","name":"properties","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AMQ::Protocol::Properties","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L6","def":{"name":"properties","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@properties"}},{"id":"routing_key:String-instance-method","html_id":"routing_key:String-instance-method","name":"routing_key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L6","def":{"name":"routing_key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@routing_key"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Channel","path":"AMQP/Client/Channel.html","kind":"class","full_name":"AMQP::Client::Channel","name":"Channel","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/channel.cr","line_number":8,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Log","name":"Log","value":"AMQP::Client::Connection::Log.for(self)","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(connection:Connection,id:UInt16)-class-method","html_id":"new(connection:Connection,id:UInt16)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"UInt16"}],"args_string":"(connection : Connection, id : UInt16)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L26","def":{"name":"new","args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"UInt16"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(connection, id)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"basic_ack(delivery_tag:UInt64,multiple=false):Nil-instance-method","html_id":"basic_ack(delivery_tag:UInt64,multiple=false):Nil-instance-method","name":"basic_ack","doc":null,"summary":null,"abstract":false,"args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"args_string":"(delivery_tag : UInt64, multiple = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L360","def":{"name":"basic_ack","args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Ack.new(@id, delivery_tag, multiple))"}},{"id":"basic_cancel(consumer_tag,no_wait=false):Nil-instance-method","html_id":"basic_cancel(consumer_tag,no_wait=false):Nil-instance-method","name":"basic_cancel","doc":null,"summary":null,"abstract":false,"args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"args_string":"(consumer_tag, no_wait = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L351","def":{"name":"basic_cancel","args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Cancel.new(@id, consumer_tag, no_wait))\nif no_wait\nelse\n  expect(Frame::Basic::CancelOk)\nend\nif cb = @consumer_blocks.delete(consumer_tag)\n  cb.close\nend\n@consumers.delete(consumer_tag)\n"}},{"id":"basic_consume(queue,tag=&quot;&quot;,no_ack=true,exclusive=false,block=false,args=Arguments.new,&blk:DeliverMessage->Nil)-instance-method","html_id":"basic_consume(queue,tag=&amp;quot;&amp;quot;,no_ack=true,exclusive=false,block=false,args=Arguments.new,&amp;blk:DeliverMessage-&gt;Nil)-instance-method","name":"basic_consume","doc":null,"summary":null,"abstract":false,"args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":""},{"name":"tag","doc":null,"default_value":"\"\"","external_name":"tag","restriction":""},{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"block","doc":null,"default_value":"false","external_name":"block","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(queue, tag = <span class=\"s\">&quot;&quot;</span>, no_ack = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, block = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>, &blk : DeliverMessage -> Nil)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L334","def":{"name":"basic_consume","args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":""},{"name":"tag","doc":null,"default_value":"\"\"","external_name":"tag","restriction":""},{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"block","doc":null,"default_value":"false","external_name":"block","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(DeliverMessage -> Nil)"},"return_type":"","visibility":"Public","body":"write(Frame::Basic::Consume.new(@id, 0_u16, queue, tag, false, no_ack, exclusive, false, args))\nok = expect(Frame::Basic::ConsumeOk)\n@consumers[ok.consumer_tag] = blk\nif block\n  cb = @consumer_blocks[ok.consumer_tag] = ::Channel(Exception).new\n  if ex = cb.receive?\n    @consumers.delete(ok.consumer_tag)\n    write(Frame::Basic::Cancel.new(@id, ok.consumer_tag, no_wait: true))\n    raise(ex)\n  end\nend\nok.consumer_tag\n"}},{"id":"basic_get(queue:String,no_ack:Bool):GetMessage?-instance-method","html_id":"basic_get(queue:String,no_ack:Bool):GetMessage?-instance-method","name":"basic_get","doc":null,"summary":null,"abstract":false,"args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"no_ack","doc":null,"default_value":"","external_name":"no_ack","restriction":"Bool"}],"args_string":"(queue : String, no_ack : Bool) : GetMessage?","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L310","def":{"name":"basic_get","args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"no_ack","doc":null,"default_value":"","external_name":"no_ack","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"GetMessage | ::Nil","visibility":"Public","body":"write(Frame::Basic::Get.new(@id, 0_u16, queue, no_ack))\nf = next_frame\ncase f\nwhen Frame::Basic::GetOk\n  get_message(f)\nwhen Frame::Basic::GetEmpty\n  nil\nelse\n  raise(UnexpectedFrame.new(f))\nend\n"}},{"id":"basic_nack(delivery_tag:UInt64,requeue=false,multiple=false):Nil-instance-method","html_id":"basic_nack(delivery_tag:UInt64,requeue=false,multiple=false):Nil-instance-method","name":"basic_nack","doc":null,"summary":null,"abstract":false,"args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""},{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"args_string":"(delivery_tag : UInt64, requeue = <span class=\"n\">false</span>, multiple = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L368","def":{"name":"basic_nack","args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""},{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Nack.new(@id, delivery_tag, multiple, requeue))"}},{"id":"basic_publish(io:IO,bytesize:Int,exchange:String,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new):UInt64-instance-method","html_id":"basic_publish(io:IO,bytesize:Int,exchange:String,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new):UInt64-instance-method","name":"basic_publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(io : IO, bytesize : Int, exchange : String, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>) : UInt64","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L225","def":{"name":"basic_publish","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt64","visibility":"Public","body":"@connection.with_lock do |c|\n  c.unsafe_write(Frame::Basic::Publish.new(@id, 0_u16, exchange, routing_key, mandatory, immediate))\n  c.unsafe_write(Frame::Header.new(@id, 60_u16, 0_u16, bytesize.to_u64, props))\n  pos = 0_u32\n  while !(pos == bytesize)\n    length = Math.min(@connection.frame_max, bytesize.to_u32 - pos)\n    c.unsafe_write(Frame::Body.new(@id, length, io))\n    pos = pos + length\n  end\nend\nif @confirm_mode\n  @confirm_id = @confirm_id + 1_u64\nelse\n  0_u64\nend\n"}},{"id":"basic_publish(bytes:Bytes,exchange,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"basic_publish(bytes:Bytes,exchange,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"basic_publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(bytes : Bytes, exchange, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L213","def":{"name":"basic_publish","args":[{"name":"bytes","doc":null,"default_value":"","external_name":"bytes","restriction":"Bytes"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"basic_publish(IO::Memory.new(bytes), exchange, routing_key, mandatory, immediate, props)"}},{"id":"basic_publish(str:String,exchange,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"basic_publish(str:String,exchange,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"basic_publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(str : String, exchange, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L217","def":{"name":"basic_publish","args":[{"name":"str","doc":null,"default_value":"","external_name":"str","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"basic_publish(IO::Memory.new(str), exchange, routing_key, mandatory, immediate, props)"}},{"id":"basic_publish(io:IO::Memory|IO::FileDescriptor,exchange,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"basic_publish(io:IO::Memory|IO::FileDescriptor,exchange,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"basic_publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO::Memory | IO::FileDescriptor"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(io : IO::Memory | IO::FileDescriptor, exchange, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L221","def":{"name":"basic_publish","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO::Memory | IO::FileDescriptor"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"basic_publish(io, io.bytesize, exchange, routing_key, mandatory, immediate, props)"}},{"id":"basic_publish_confirm(io:IO,bytesize:Int,exchange:String,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new):Bool-instance-method","html_id":"basic_publish_confirm(io:IO,bytesize:Int,exchange:String,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new):Bool-instance-method","name":"basic_publish_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(io : IO, bytesize : Int, exchange : String, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>) : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L250","def":{"name":"basic_publish_confirm","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"confirm_select\nmsgid = basic_publish(io, bytesize, exchange, routing_key, mandatory, immediate, props)\nwait_for_confirm(msgid)\n"}},{"id":"basic_publish_confirm(msg,exchange,routing_key=&quot;&quot;,mandatory=false,immediate=false,props=Properties.new):Bool-instance-method","html_id":"basic_publish_confirm(msg,exchange,routing_key=&amp;quot;&amp;quot;,mandatory=false,immediate=false,props=Properties.new):Bool-instance-method","name":"basic_publish_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"msg","doc":null,"default_value":"","external_name":"msg","restriction":""},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(msg, exchange, routing_key = <span class=\"s\">&quot;&quot;</span>, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>) : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L244","def":{"name":"basic_publish_confirm","args":[{"name":"msg","doc":null,"default_value":"","external_name":"msg","restriction":""},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":""},{"name":"routing_key","doc":null,"default_value":"\"\"","external_name":"routing_key","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"confirm_select\nmsgid = basic_publish(msg, exchange, routing_key, mandatory, immediate, props)\nwait_for_confirm(msgid)\n"}},{"id":"basic_qos(count,global=false):Nil-instance-method","html_id":"basic_qos(count,global=false):Nil-instance-method","name":"basic_qos","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"global","doc":null,"default_value":"false","external_name":"global","restriction":""}],"args_string":"(count, global = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L372","def":{"name":"basic_qos","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"global","doc":null,"default_value":"false","external_name":"global","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Qos.new(@id, 0_u32, count.to_u16, global))\nexpect(Frame::Basic::QosOk)\n"}},{"id":"basic_recover(requeue):Nil-instance-method","html_id":"basic_recover(requeue):Nil-instance-method","name":"basic_recover","doc":null,"summary":null,"abstract":false,"args":[{"name":"requeue","doc":null,"default_value":"","external_name":"requeue","restriction":""}],"args_string":"(requeue) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L489","def":{"name":"basic_recover","args":[{"name":"requeue","doc":null,"default_value":"","external_name":"requeue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Recover.new(@id, requeue))\nexpect(Frame::Basic::RecoverOk)\n"}},{"id":"basic_reject(delivery_tag:UInt64,requeue=false):Nil-instance-method","html_id":"basic_reject(delivery_tag:UInt64,requeue=false):Nil-instance-method","name":"basic_reject","doc":null,"summary":null,"abstract":false,"args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"args_string":"(delivery_tag : UInt64, requeue = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L364","def":{"name":"basic_reject","args":[{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Basic::Reject.new(@id, delivery_tag, requeue))"}},{"id":"cleanup-instance-method","html_id":"cleanup-instance-method","name":"cleanup","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L74","def":{"name":"cleanup","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@server_frames.close\n@reply_frames.close\n@deliveries.close\n@returns.close\n@confirms.close\n"}},{"id":"close:Nil-instance-method","html_id":"close:Nil-instance-method","name":"close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L45","def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"if @closed\n  return\nend\n@closed = true\nwrite(Frame::Channel::Close.new(@id, 200, \"\", 0, 0))\nexpect(Frame::Channel::CloseOk)\ncleanup\n"}},{"id":"close(frame:Frame::Channel::Close):Nil-instance-method","html_id":"close(frame:Frame::Channel::Close):Nil-instance-method","name":"close","doc":null,"summary":null,"abstract":false,"args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame::Channel::Close"}],"args_string":"(frame : Frame::Channel::Close) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L53","def":{"name":"close","args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame::Channel::Close"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"@closed = true\n@closing_frame = frame\nif @on_close\nelse\n  Log.info do\n    \"Channel closed by server: #{frame.inspect}\"\n  end\nend\nbegin\n  @on_close.try(&.call(frame.reply_code, frame.reply_text))\nrescue ex\n  Log.error(exception: ex) do\n    \"Uncaught exception in on_close block\"\n  end\nend\nwrite(Frame::Channel::CloseOk.new(@id))\ncleanup\n"}},{"id":"closed?:Bool-instance-method","html_id":"closed?:Bool-instance-method","name":"closed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L70","def":{"name":"closed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@closed"}},{"id":"confirm_select(no_wait=false):Nil-instance-method","html_id":"confirm_select(no_wait=false):Nil-instance-method","name":"confirm_select","doc":null,"summary":null,"abstract":false,"args":[{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"args_string":"(no_wait = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L482","def":{"name":"confirm_select","args":[{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"if @confirm_mode\n  return\nend\nwrite(Frame::Confirm::Select.new(@id, no_wait))\nif no_wait\nelse\n  expect(Frame::Confirm::SelectOk)\nend\n@confirm_mode = true\n"}},{"id":"default_exchange-instance-method","html_id":"default_exchange-instance-method","name":"default_exchange","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L447","def":{"name":"default_exchange","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Exchange.new(self, \"\")"}},{"id":"direct_exchange(name=&quot;amq.direct&quot;,passive=true)-instance-method","html_id":"direct_exchange(name=&amp;quot;amq.direct&amp;quot;,passive=true)-instance-method","name":"direct_exchange","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"\"amq.direct\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"args_string":"(name = <span class=\"s\">&quot;amq.direct&quot;</span>, passive = <span class=\"n\">true</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L443","def":{"name":"direct_exchange","args":[{"name":"name","doc":null,"default_value":"\"amq.direct\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exchange(name, \"direct\", passive)"}},{"id":"exchange(name,type,passive=false,durable=true,exclusive=false,internal=false,auto_delete=false,args=Arguments.new)-instance-method","html_id":"exchange(name,type,passive=false,durable=true,exclusive=false,internal=false,auto_delete=false,args=Arguments.new)-instance-method","name":"exchange","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"internal","doc":null,"default_value":"false","external_name":"internal","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(name, type, passive = <span class=\"n\">false</span>, durable = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, internal = <span class=\"n\">false</span>, auto_delete = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L451","def":{"name":"exchange","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":""},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"internal","doc":null,"default_value":"false","external_name":"internal","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exchange_declare(name, type, passive, durable, exclusive, internal, auto_delete, false, args)\nExchange.new(self, name)\n"}},{"id":"exchange_bind(source:String,destination:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","html_id":"exchange_bind(source:String,destination:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","name":"exchange_bind","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(source : String, destination : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L472","def":{"name":"exchange_bind","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Exchange::Bind.new(@id, 0_u16, source, destination, routing_key, no_wait, args))\nif no_wait\nelse\n  expect(Frame::Exchange::BindOk)\nend\n"}},{"id":"exchange_declare(name:String,type:String,passive=false,durable=true,exclusive=false,internal=false,auto_delete=false,no_wait=false,args=Arguments.new):Nil-instance-method","html_id":"exchange_declare(name:String,type:String,passive=false,durable=true,exclusive=false,internal=false,auto_delete=false,no_wait=false,args=Arguments.new):Nil-instance-method","name":"exchange_declare","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"internal","doc":null,"default_value":"false","external_name":"internal","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(name : String, type : String, passive = <span class=\"n\">false</span>, durable = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, internal = <span class=\"n\">false</span>, auto_delete = <span class=\"n\">false</span>, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L457","def":{"name":"exchange_declare","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"internal","doc":null,"default_value":"false","external_name":"internal","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Exchange::Declare.new(@id, 0_u16, name, type, passive, durable, auto_delete, internal, no_wait, args))\nif no_wait\nelse\n  expect(Frame::Exchange::DeclareOk)\nend\n"}},{"id":"exchange_delete(name,if_unused=false,no_wait=false):Nil-instance-method","html_id":"exchange_delete(name,if_unused=false,no_wait=false):Nil-instance-method","name":"exchange_delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"args_string":"(name, if_unused = <span class=\"n\">false</span>, no_wait = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L467","def":{"name":"exchange_delete","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":""},{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Exchange::Delete.new(@id, 0_u16, name, if_unused, no_wait))\nif no_wait\nelse\n  expect(Frame::Exchange::DeleteOk)\nend\n"}},{"id":"exchange_unbind(source:String,destination:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","html_id":"exchange_unbind(source:String,destination:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","name":"exchange_unbind","doc":null,"summary":null,"abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(source : String, destination : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L477","def":{"name":"exchange_unbind","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Exchange::Unbind.new(@id, 0_u16, source, destination, routing_key, no_wait, args))\nif no_wait\nelse\n  expect(Frame::Queue::UnbindOk)\nend\n"}},{"id":"fanout_exchange(name=&quot;amq.fanout&quot;,passive=true)-instance-method","html_id":"fanout_exchange(name=&amp;quot;amq.fanout&amp;quot;,passive=true)-instance-method","name":"fanout_exchange","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"\"amq.fanout\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"args_string":"(name = <span class=\"s\">&quot;amq.fanout&quot;</span>, passive = <span class=\"n\">true</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L435","def":{"name":"fanout_exchange","args":[{"name":"name","doc":null,"default_value":"\"amq.fanout\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exchange(name, \"fanout\", passive)"}},{"id":"flow(active:Bool)-instance-method","html_id":"flow(active:Bool)-instance-method","name":"flow","doc":null,"summary":null,"abstract":false,"args":[{"name":"active","doc":null,"default_value":"","external_name":"active","restriction":"Bool"}],"args_string":"(active : Bool)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L66","def":{"name":"flow","args":[{"name":"active","doc":null,"default_value":"","external_name":"active","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"write(Frame::Channel::Flow.new(@id, active))"}},{"id":"has_subscriber?(consumer_tag)-instance-method","html_id":"has_subscriber?(consumer_tag)-instance-method","name":"has_subscriber?","doc":null,"summary":null,"abstract":false,"args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""}],"args_string":"(consumer_tag)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L327","def":{"name":"has_subscriber?","args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@consumers.has_key?(consumer_tag)"}},{"id":"header_exchange(name=&quot;amq.header&quot;,passive=true)-instance-method","html_id":"header_exchange(name=&amp;quot;amq.header&amp;quot;,passive=true)-instance-method","name":"header_exchange","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"\"amq.header\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"args_string":"(name = <span class=\"s\">&quot;amq.header&quot;</span>, passive = <span class=\"n\">true</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L439","def":{"name":"header_exchange","args":[{"name":"name","doc":null,"default_value":"\"amq.header\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exchange(name, \"header\", passive)"}},{"id":"id:UInt16-instance-method","html_id":"id:UInt16-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt16","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L9","def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id"}},{"id":"incoming(frame)-instance-method","html_id":"incoming(frame)-instance-method","name":"incoming","doc":null,"summary":null,"abstract":false,"args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":""}],"args_string":"(frame)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L86","def":{"name":"incoming","args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Log.context.set(channel_id: @id.to_i)\ncase frame\nwhen Frame::Channel::Close, Frame::Channel::Flow, Frame::Basic::Deliver, Frame::Basic::Return, Frame::Basic::Cancel\n  @server_frames.send(frame)\nwhen Frame::Basic::Ack, Frame::Basic::Nack\n  @confirms.send(frame)\nwhen Frame::Header\n  @next_msg_props = frame.properties\n  @next_body_size = frame.body_size.to_u32\n  @next_body_io = IO::Memory.new(frame.body_size)\n  if frame.body_size.zero?\n    @next_msg_ready.send(nil)\n  end\nwhen Frame::Body\n  IO.copy(frame.body, @next_body_io, frame.body_size)\n  if @next_body_io.pos == @next_body_size\n    @next_body_io.rewind\n    @next_msg_ready.send(nil)\n  end\nelse\n  @reply_frames.send(frame)\nend\n"}},{"id":"inspect(io:IO):Nil-instance-method","html_id":"inspect(io:IO):Nil-instance-method","name":"inspect","doc":"Appends a String representation of this object\nwhich includes its class name, its object address\nand the values of all instance variables.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).inspect # => #<Person:0x10fd31f20 @name=\"John\", @age=32>\n```","summary":"<p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"}],"args_string":"(io : IO) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L509","def":{"name":"inspect","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"((((io << \"#<\") << self.class.name) << \" @id=\") << @id) << '>'"}},{"id":"on_cancel(&blk:String->Nil)-instance-method","html_id":"on_cancel(&amp;blk:String-&gt;Nil)-instance-method","name":"on_cancel","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : String -> Nil)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L130","def":{"name":"on_cancel","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(String -> Nil)"},"return_type":"","visibility":"Public","body":"@on_cancel = blk"}},{"id":"on_close(&blk:UInt16,String->)-instance-method","html_id":"on_close(&amp;blk:UInt16,String-&gt;)-instance-method","name":"on_close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : UInt16, String -> )","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L41","def":{"name":"on_close","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(UInt16, String -> )"},"return_type":"","visibility":"Public","body":"@on_close = blk"}},{"id":"on_confirm(msgid,&blk:Bool->Nil)-instance-method","html_id":"on_confirm(msgid,&amp;blk:Bool-&gt;Nil)-instance-method","name":"on_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"msgid","doc":null,"default_value":"","external_name":"msgid","restriction":""}],"args_string":"(msgid, &blk : Bool -> Nil)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L270","def":{"name":"on_confirm","args":[{"name":"msgid","doc":null,"default_value":"","external_name":"msgid","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(Bool -> Nil)"},"return_type":"","visibility":"Public","body":"if msgid > 0\nelse\n  raise(ArgumentError.new(\"Confirm id must be > 0\"))\nend\nlast_confirm, last_confirm_ok = @last_confirm\nif last_confirm >= msgid.to_u64\n  blk.call(last_confirm_ok)\nelse\n  @on_confirm[msgid.to_u64] = blk\nend\n"}},{"id":"on_return(&blk:ReturnedMessage->Nil)-instance-method","html_id":"on_return(&amp;blk:ReturnedMessage-&gt;Nil)-instance-method","name":"on_return","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : ReturnedMessage -> Nil)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L180","def":{"name":"on_return","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(ReturnedMessage -> Nil)"},"return_type":"","visibility":"Public","body":"@on_return = blk"}},{"id":"open-instance-method","html_id":"open-instance-method","name":"open","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L33","def":{"name":"open","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"write(Frame::Channel::Open.new(@id))\nexpect(Frame::Channel::OpenOk)\nself\n"}},{"id":"prefetch(count,global=false):Nil-instance-method","html_id":"prefetch(count,global=false):Nil-instance-method","name":"prefetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"global","doc":null,"default_value":"false","external_name":"global","restriction":""}],"args_string":"(count, global = <span class=\"n\">false</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L377","def":{"name":"prefetch","args":[{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":""},{"name":"global","doc":null,"default_value":"false","external_name":"global","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"basic_qos(count, global)"}},{"id":"queue-instance-method","html_id":"queue-instance-method","name":"queue","doc":"Declares a temporary queue, which won't be durable and auto-deleted when not used anymore","summary":"<p>Declares a temporary queue, which won't be durable and auto-deleted when not used anymore</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L382","def":{"name":"queue","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"q = queue_declare(\"\", durable: false, auto_delete: true, exclusive: true)\nQueue.new(self, q[:queue_name])\n"}},{"id":"queue(name:String,passive=false,durable=true,exclusive=false,auto_delete=false,args=Arguments.new)-instance-method","html_id":"queue(name:String,passive=false,durable=true,exclusive=false,auto_delete=false,args=Arguments.new)-instance-method","name":"queue","doc":"Declares a queue with a name, by default durable and not auto-deleted","summary":"<p>Declares a queue with a name, by default durable and not auto-deleted</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(name : String, passive = <span class=\"n\">false</span>, durable = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, auto_delete = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L388","def":{"name":"queue","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"q = queue_declare(name, passive, durable, exclusive, auto_delete, args)\nQueue.new(self, q[:queue_name])\n"}},{"id":"queue_bind(queue:String,exchange:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","html_id":"queue_bind(queue:String,exchange:String,routing_key:String,no_wait=false,args=Arguments.new):Nil-instance-method","name":"queue_bind","doc":null,"summary":null,"abstract":false,"args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(queue : String, exchange : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L421","def":{"name":"queue_bind","args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Queue::Bind.new(@id, 0_u16, queue, exchange, routing_key, no_wait, args))\nif no_wait\nelse\n  expect(Frame::Queue::BindOk)\nend\n"}},{"id":"queue_declare(name:String,passive=false,durable=true,exclusive=false,auto_delete=false,args=Arguments.new)-instance-method","html_id":"queue_declare(name:String,passive=false,durable=true,exclusive=false,auto_delete=false,args=Arguments.new)-instance-method","name":"queue_declare","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(name : String, passive = <span class=\"n\">false</span>, durable = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, auto_delete = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L393","def":{"name":"queue_declare","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"passive","doc":null,"default_value":"false","external_name":"passive","restriction":""},{"name":"durable","doc":null,"default_value":"true","external_name":"durable","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"auto_delete","doc":null,"default_value":"false","external_name":"auto_delete","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if name.empty?\n  durable = false\nend\nif name.empty?\n  exclusive = true\nend\nif name.empty?\n  auto_delete = true\nend\nno_wait = false\nwrite(Frame::Queue::Declare.new(@id, 0_u16, name, passive, durable, exclusive, auto_delete, no_wait, args))\nf = expect(Frame::Queue::DeclareOk)\n{queue_name: f.queue_name, message_count: f.message_count, consumer_count: f.consumer_count}\n"}},{"id":"queue_delete(name:String,if_unused=false,if_empty=false)-instance-method","html_id":"queue_delete(name:String,if_unused=false,if_empty=false)-instance-method","name":"queue_delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"if_empty","doc":null,"default_value":"false","external_name":"if_empty","restriction":""}],"args_string":"(name : String, if_unused = <span class=\"n\">false</span>, if_empty = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L409","def":{"name":"queue_delete","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"if_empty","doc":null,"default_value":"false","external_name":"if_empty","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"write(Frame::Queue::Delete.new(@id, 0_u16, name, if_unused, if_empty, no_wait: false))\nf = expect(Frame::Queue::DeleteOk)\n{message_count: f.message_count}\n"}},{"id":"queue_purge(name:String)-instance-method","html_id":"queue_purge(name:String)-instance-method","name":"queue_purge","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(name : String)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L415","def":{"name":"queue_purge","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"write(Frame::Queue::Purge.new(@id, 0_u16, name, no_wait: false))\nf = expect(Frame::Queue::PurgeOk)\n{message_count: f.message_count}\n"}},{"id":"queue_unbind(queue:String,exchange:String,routing_key:String,args=Arguments.new):Nil-instance-method","html_id":"queue_unbind(queue:String,exchange:String,routing_key:String,args=Arguments.new):Nil-instance-method","name":"queue_unbind","doc":null,"summary":null,"abstract":false,"args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(queue : String, exchange : String, routing_key : String, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>) : Nil","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L426","def":{"name":"queue_unbind","args":[{"name":"queue","doc":null,"default_value":"","external_name":"queue","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"write(Frame::Queue::Unbind.new(@id, 0_u16, queue, exchange, routing_key, args))\nexpect(Frame::Queue::UnbindOk)\n"}},{"id":"topic_exchange(name=&quot;amq.topic&quot;,passive=true)-instance-method","html_id":"topic_exchange(name=&amp;quot;amq.topic&amp;quot;,passive=true)-instance-method","name":"topic_exchange","doc":null,"summary":null,"abstract":false,"args":[{"name":"name","doc":null,"default_value":"\"amq.topic\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"args_string":"(name = <span class=\"s\">&quot;amq.topic&quot;</span>, passive = <span class=\"n\">true</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L431","def":{"name":"topic_exchange","args":[{"name":"name","doc":null,"default_value":"\"amq.topic\"","external_name":"name","restriction":""},{"name":"passive","doc":null,"default_value":"true","external_name":"passive","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"exchange(name, \"topic\", passive)"}},{"id":"wait_for_confirm(msgid):Bool-instance-method","html_id":"wait_for_confirm(msgid):Bool-instance-method","name":"wait_for_confirm","doc":"Block until confirmed","summary":"<p>Block until confirmed</p>","abstract":false,"args":[{"name":"msgid","doc":null,"default_value":"","external_name":"msgid","restriction":""}],"args_string":"(msgid) : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L257","def":{"name":"wait_for_confirm","args":[{"name":"msgid","doc":null,"default_value":"","external_name":"msgid","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"begin\n  ch = ::Channel(Bool).new\n  on_confirm(msgid) do |acked|\n    ch.send(acked)\n  end\n  ch.receive\nensure\n  if @closing_frame\n    raise(ClosedException.new(@closing_frame))\n  end\nend"}}],"macros":[{"id":"expect(clz)-macro","html_id":"expect(clz)-macro","name":"expect","doc":null,"summary":null,"abstract":false,"args":[{"name":"clz","doc":null,"default_value":"","external_name":"clz","restriction":""}],"args_string":"(clz)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L504","def":{"name":"expect","args":[{"name":"clz","doc":null,"default_value":"","external_name":"clz","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      frame = next_frame\n      frame.as?(\n{{ clz }}\n) || raise UnexpectedFrame.new(frame)\n    \n"}}],"types":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Channel/ClosedException","path":"AMQP/Client/Channel/ClosedException.html","kind":"class","full_name":"AMQP::Client::Channel::ClosedException","name":"ClosedException","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/channel.cr","line_number":513,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Channel","kind":"class","full_name":"AMQP::Client::Channel","name":"Channel"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(close:Frame::Channel::Close?,cause=nil)-class-method","html_id":"new(close:Frame::Channel::Close?,cause=nil)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":"Frame::Channel::Close | ::Nil"},{"name":"cause","doc":null,"default_value":"nil","external_name":"cause","restriction":""}],"args_string":"(close : Frame::Channel::Close?, cause = <span class=\"n\">nil</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/channel.cr#L514","def":{"name":"new","args":[{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":"Frame::Channel::Close | ::Nil"},{"name":"cause","doc":null,"default_value":"nil","external_name":"cause","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(close, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Connection","path":"AMQP/Client/Connection.html","kind":"class","full_name":"AMQP::Client::Connection","name":"Connection","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/connection.cr","line_number":10,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"Log","name":"Log","value":"AMQP::Client::Log.for(self)","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[{"id":"start(io:UNIXSocket|TCPSocket|OpenSSL::SSL::Socket::Client,user,password,vhost,channel_max,frame_max,heartbeat)-class-method","html_id":"start(io:UNIXSocket|TCPSocket|OpenSSL::SSL::Socket::Client,user,password,vhost,channel_max,frame_max,heartbeat)-class-method","name":"start","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client"},{"name":"user","doc":null,"default_value":"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"","external_name":"password","restriction":""},{"name":"vhost","doc":null,"default_value":"","external_name":"vhost","restriction":""},{"name":"channel_max","doc":null,"default_value":"","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"","external_name":"heartbeat","restriction":""}],"args_string":"(io : UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client, user, password, vhost, channel_max, frame_max, heartbeat)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L146","def":{"name":"start","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client"},{"name":"user","doc":null,"default_value":"","external_name":"user","restriction":""},{"name":"password","doc":null,"default_value":"","external_name":"password","restriction":""},{"name":"vhost","doc":null,"default_value":"","external_name":"vhost","restriction":""},{"name":"channel_max","doc":null,"default_value":"","external_name":"channel_max","restriction":""},{"name":"frame_max","doc":null,"default_value":"","external_name":"frame_max","restriction":""},{"name":"heartbeat","doc":null,"default_value":"","external_name":"heartbeat","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  io.read_timeout = 15\n  io.write(AMQ::Protocol::PROTOCOL_START_0_9_1.to_slice)\n  io.flush\n  Frame.from_io(io) do |f|\n    (f.as?(Frame::Connection::Start)) || (raise(UnexpectedFrame.new(f)))\n  end\n  props = Arguments.new\n  props[\"product\"] = \"amqp-client.cr\"\n  props[\"platform\"] = \"Crystal\"\n  props[\"version\"] = AMQP::Client::VERSION\n  capabilities = Arguments.new\n  capabilities[\"publisher_confirms\"] = true\n  capabilities[\"exchange_exchange_bindings\"] = true\n  capabilities[\"basic.nack\"] = true\n  capabilities[\"per_consumer_qos\"] = true\n  capabilities[\"authentication_failure_close\"] = true\n  capabilities[\"consumer_cancel_notify\"] = true\n  capabilities[\"connection.blocked\"] = true\n  props[\"capabilities\"] = capabilities\n  user = URI.decode_www_form(user)\n  password = URI.decode_www_form(password)\n  response = \"\\u0000#{user}\\u0000#{password}\"\n  io.write_bytes(Frame::Connection::StartOk.new(props, \"PLAIN\", response, \"\"), IO::ByteFormat::NetworkEndian)\n  io.flush\n  tune = Frame.from_io(io) do |f|\n    case f\n    when Frame::Connection::Tune\n      next f\n    when Frame::Connection::Close\n      raise(Connection::ClosedException.new(f.as(Frame::Connection::Close)))\n    else\n      raise(UnexpectedFrame.new(f))\n    end\n  end\n  channel_max = tune.channel_max.zero? ? channel_max : Math.min(tune.channel_max, channel_max)\n  frame_max = tune.frame_max.zero? ? frame_max : Math.min(tune.frame_max, frame_max)\n  io.write_bytes(Frame::Connection::TuneOk.new(channel_max: channel_max, frame_max: frame_max, heartbeat: heartbeat), IO::ByteFormat::NetworkEndian)\n  io.write_bytes(Frame::Connection::Open.new(vhost), IO::ByteFormat::NetworkEndian)\n  io.flush\n  Frame.from_io(io) do |f|\n    case f\n    when Frame::Connection::OpenOk\n      next\n    when Frame::Connection::Close\n      raise(Connection::ClosedException.new(f.as(Frame::Connection::Close)))\n    else\n      raise(UnexpectedFrame.new(f))\n    end\n  end\n  Connection.new(io, channel_max, frame_max, heartbeat)\nrescue ex\n  case ex\n  when IO::EOFError\n    raise(Connection::ClosedException.new(\"Connection closed by server\", ex))\n  when Connection::ClosedException\n    begin\n      io.write_bytes(Frame::Connection::CloseOk.new, IO::ByteFormat::NetworkEndian)\n    rescue\n      nil\n    end\n  else\n    nil\n  end\n  begin\n    io.close\n  rescue\n    nil\n  end\n  raise(ex)\nensure\n  io.read_timeout = nil\nend"}}],"constructors":[{"id":"new(io:UNIXSocket|TCPSocket|OpenSSL::SSL::Socket::Client,channel_max:UInt16,frame_max:UInt32,heartbeat:UInt16)-class-method","html_id":"new(io:UNIXSocket|TCPSocket|OpenSSL::SSL::Socket::Client,channel_max:UInt16,frame_max:UInt32,heartbeat:UInt16)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client"},{"name":"channel_max","doc":null,"default_value":"","external_name":"channel_max","restriction":"UInt16"},{"name":"frame_max","doc":null,"default_value":"","external_name":"frame_max","restriction":"UInt32"},{"name":"heartbeat","doc":null,"default_value":"","external_name":"heartbeat","restriction":"UInt16"}],"args_string":"(io : UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client, channel_max : UInt16, frame_max : UInt32, heartbeat : UInt16)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L17","def":{"name":"new","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"UNIXSocket | TCPSocket | OpenSSL::SSL::Socket::Client"},{"name":"channel_max","doc":null,"default_value":"","external_name":"channel_max","restriction":"UInt16"},{"name":"frame_max","doc":null,"default_value":"","external_name":"frame_max","restriction":"UInt32"},{"name":"heartbeat","doc":null,"default_value":"","external_name":"heartbeat","restriction":"UInt16"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(io, channel_max, frame_max, heartbeat)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"channel(id:UInt16?=nil)-instance-method","html_id":"channel(id:UInt16?=nil)-instance-method","name":"channel","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"nil","external_name":"id","restriction":"UInt16 | ::Nil"}],"args_string":"(id : UInt16? = <span class=\"n\">nil</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L24","def":{"name":"channel","args":[{"name":"id","doc":null,"default_value":"nil","external_name":"id","restriction":"UInt16 | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if id\n  if id > @channel_max\n    raise(\"channel_max reached\")\n  end\n  if ch = @channels.fetch(id, nil)\n    return ch\n  else\n    ch = @channels[id] = Channel.new(self, id)\n    return ch.open\n  end\nend\n1_u16.upto(@channel_max) do |i|\n  if @channels.has_key?(i)\n    next\n  end\n  ch = @channels[i] = Channel.new(self, i)\n  return ch.open\nend\nraise(\"channel_max reached\")\n"}},{"id":"channel(&blk:Channel->_)-instance-method","html_id":"channel(&amp;blk:Channel-&gt;_)-instance-method","name":"channel","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : Channel -> _)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L42","def":{"name":"channel","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(Channel -> _)"},"return_type":"","visibility":"Public","body":"begin\n  ch = channel\n  yield ch\nensure\n  ch.try(&.close)\nend"}},{"id":"channel_max:UInt16-instance-method","html_id":"channel_max:UInt16-instance-method","name":"channel_max","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt16","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L13","def":{"name":"channel_max","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel_max"}},{"id":"close(msg=&quot;&quot;)-instance-method","html_id":"close(msg=&amp;quot;&amp;quot;)-instance-method","name":"close","doc":null,"summary":null,"abstract":false,"args":[{"name":"msg","doc":null,"default_value":"\"\"","external_name":"msg","restriction":""}],"args_string":"(msg = <span class=\"s\">&quot;&quot;</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L137","def":{"name":"close","args":[{"name":"msg","doc":null,"default_value":"\"\"","external_name":"msg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  if @closed\n    return\n  end\n  Log.debug do\n    \"Closing connection\"\n  end\n  write(Frame::Connection::Close.new(200_u16, msg, 0_u16, 0_u16))\n  @closed = true\nrescue ex : IO::Error\n  Log.info do\n    \"Socket already closed, can't send close frame\"\n  end\nend"}},{"id":"closed?:Bool-instance-method","html_id":"closed?:Bool-instance-method","name":"closed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L14","def":{"name":"closed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@closed"}},{"id":"frame_max:UInt32-instance-method","html_id":"frame_max:UInt32-instance-method","name":"frame_max","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt32","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L13","def":{"name":"frame_max","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@frame_max"}},{"id":"log-instance-method","html_id":"log-instance-method","name":"log","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L13","def":{"name":"log","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@log"}},{"id":"on_close(&blk:UInt16,String->)-instance-method","html_id":"on_close(&amp;blk:UInt16,String-&gt;)-instance-method","name":"on_close","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : UInt16, String -> )","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L51","def":{"name":"on_close","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(UInt16, String -> )"},"return_type":"","visibility":"Public","body":"@on_close = blk"}},{"id":"unsafe_write(frame:Frame)-instance-method","html_id":"unsafe_write(frame:Frame)-instance-method","name":"unsafe_write","doc":null,"summary":null,"abstract":false,"args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"args_string":"(frame : Frame)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L118","def":{"name":"unsafe_write","args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @closed\n  if f = @closing_frame\n    raise(ClosedException.new(f))\n  else\n    return\n  end\nend\n@io.write_bytes(frame, ::IO::ByteFormat::NetworkEndian)\nLog.debug do\n  \"sent #{frame.inspect}\"\nend\n"}},{"id":"with_lock(&blk:self->_)-instance-method","html_id":"with_lock(&amp;blk:self-&gt;_)-instance-method","name":"with_lock","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : <span class=\"k\">self</span> -> _)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L130","def":{"name":"with_lock","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(self -> _)"},"return_type":"","visibility":"Public","body":"@write_lock.synchronize do\n  yield self\n  @io.flush\nend"}},{"id":"write(frame:Frame)-instance-method","html_id":"write(frame:Frame)-instance-method","name":"write","doc":null,"summary":null,"abstract":false,"args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"args_string":"(frame : Frame)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L111","def":{"name":"write","args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@write_lock.synchronize do\n  unsafe_write(frame)\n  @io.flush\nend"}}],"macros":[],"types":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Connection/ClosedException","path":"AMQP/Client/Connection/ClosedException.html","kind":"class","full_name":"AMQP::Client::Connection::ClosedException","name":"ClosedException","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/connection.cr","line_number":215,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Connection","kind":"class","full_name":"AMQP::Client::Connection","name":"Connection"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(message,cause)-class-method","html_id":"new(message,cause)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"cause","doc":null,"default_value":"","external_name":"cause","restriction":""}],"args_string":"(message, cause)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L216","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"cause","doc":null,"default_value":"","external_name":"cause","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(close:Frame::Connection::Close)-class-method","html_id":"new(close:Frame::Connection::Close)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":"Frame::Connection::Close"}],"args_string":"(close : Frame::Connection::Close)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/connection.cr#L220","def":{"name":"new","args":[{"name":"close","doc":null,"default_value":"","external_name":"close","restriction":"Frame::Connection::Close"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(close)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/DeliverMessage","path":"AMQP/Client/DeliverMessage.html","kind":"struct","full_name":"AMQP::Client::DeliverMessage","name":"DeliverMessage","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","kind":"struct","full_name":"AMQP::Client::Message","name":"Message"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","kind":"struct","full_name":"AMQP::Client::Message","name":"Message"},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/message.cr","line_number":46,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Exchange","path":"AMQP/Client/Exchange.html","kind":"class","full_name":"AMQP::Client::Exchange","name":"Exchange","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/exchange.cr","line_number":4,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(channel:Channel,name:String)-class-method","html_id":"new(channel:Channel,name:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(channel : Channel, name : String)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L7","def":{"name":"new","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(channel, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"bind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","html_id":"bind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","name":"bind","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(exchange : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L10","def":{"name":"bind","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.exchange_bind(@name, exchange, routing_key, no_wait, args)\nself\n"}},{"id":"delete(if_unused=false)-instance-method","html_id":"delete(if_unused=false)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""}],"args_string":"(if_unused = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L28","def":{"name":"delete","args":[{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.exchange_delete(@name, if_unused)"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L5","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"publish(message,routing_key:String,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish(message,routing_key:String,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(message, routing_key : String, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L20","def":{"name":"publish","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish(message, @name, routing_key, mandatory, immediate, props)"}},{"id":"publish_confirm(message,routing_key:String,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish_confirm(message,routing_key:String,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(message, routing_key : String, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L24","def":{"name":"publish_confirm","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish_confirm(message, @name, routing_key, mandatory, immediate, props)"}},{"id":"unbind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","html_id":"unbind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","name":"unbind","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(exchange : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/exchange.cr#L15","def":{"name":"unbind","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.exchange_unbind(@name, exchange, routing_key, no_wait, args)\nself\n"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Frame","path":"AMQP/Client/Frame.html","kind":"alias","full_name":"AMQP::Client::Frame","name":"Frame","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"amqp-client.cr","line_number":107,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":true,"aliased":"AMQ::Protocol::Frame","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/GetMessage","path":"AMQP/Client/GetMessage.html","kind":"struct","full_name":"AMQP::Client::GetMessage","name":"GetMessage","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","kind":"struct","full_name":"AMQP::Client::Message","name":"Message"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","kind":"struct","full_name":"AMQP::Client::Message","name":"Message"},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/message.cr","line_number":49,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(channel:Channel,exchange:String,routing_key:String,delivery_tag:UInt64,properties:AMQ::Protocol::Properties,body_io:IO::Memory,redelivered:Bool,message_count:UInt32)-class-method","html_id":"new(channel:Channel,exchange:String,routing_key:String,delivery_tag:UInt64,properties:AMQ::Protocol::Properties,body_io:IO::Memory,redelivered:Bool,message_count:UInt32)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"},{"name":"redelivered","doc":null,"default_value":"","external_name":"redelivered","restriction":"Bool"},{"name":"message_count","doc":null,"default_value":"","external_name":"message_count","restriction":"UInt32"}],"args_string":"(channel : Channel, exchange : String, routing_key : String, delivery_tag : UInt64, properties : AMQ::Protocol::Properties, body_io : IO::Memory, redelivered : Bool, message_count : UInt32)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L52","def":{"name":"new","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"},{"name":"redelivered","doc":null,"default_value":"","external_name":"redelivered","restriction":"Bool"},{"name":"message_count","doc":null,"default_value":"","external_name":"message_count","restriction":"UInt32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(channel, exchange, routing_key, delivery_tag, properties, body_io, redelivered, message_count)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"message_count:UInt32-instance-method","html_id":"message_count:UInt32-instance-method","name":"message_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt32","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L50","def":{"name":"message_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@message_count"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Message","path":"AMQP/Client/Message.html","kind":"struct","full_name":"AMQP::Client::Message","name":"Message","abstract":true,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/message.cr","line_number":24,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/DeliverMessage","kind":"struct","full_name":"AMQP::Client::DeliverMessage","name":"DeliverMessage"},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/GetMessage","kind":"struct","full_name":"AMQP::Client::GetMessage","name":"GetMessage"}],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(channel:Channel,exchange:String,routing_key:String,delivery_tag:UInt64,properties:AMQ::Protocol::Properties,body_io:IO::Memory,redelivered:Bool)-class-method","html_id":"new(channel:Channel,exchange:String,routing_key:String,delivery_tag:UInt64,properties:AMQ::Protocol::Properties,body_io:IO::Memory,redelivered:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"},{"name":"redelivered","doc":null,"default_value":"","external_name":"redelivered","restriction":"Bool"}],"args_string":"(channel : Channel, exchange : String, routing_key : String, delivery_tag : UInt64, properties : AMQ::Protocol::Properties, body_io : IO::Memory, redelivered : Bool)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L27","def":{"name":"new","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"delivery_tag","doc":null,"default_value":"","external_name":"delivery_tag","restriction":"UInt64"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"},{"name":"redelivered","doc":null,"default_value":"","external_name":"redelivered","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(channel, exchange, routing_key, delivery_tag, properties, body_io, redelivered)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"ack(multiple=false)-instance-method","html_id":"ack(multiple=false)-instance-method","name":"ack","doc":null,"summary":null,"abstract":false,"args":[{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"args_string":"(multiple = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L33","def":{"name":"ack","args":[{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_ack(@delivery_tag, multiple: multiple)"}},{"id":"delivery_tag:UInt64-instance-method","html_id":"delivery_tag:UInt64-instance-method","name":"delivery_tag","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt64","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L25","def":{"name":"delivery_tag","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@delivery_tag"}},{"id":"nack(multiple=false,requeue=false)-instance-method","html_id":"nack(multiple=false,requeue=false)-instance-method","name":"nack","doc":null,"summary":null,"abstract":false,"args":[{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"args_string":"(multiple = <span class=\"n\">false</span>, requeue = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L37","def":{"name":"nack","args":[{"name":"multiple","doc":null,"default_value":"false","external_name":"multiple","restriction":""},{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_nack(@delivery_tag, multiple: multiple, requeue: requeue)"}},{"id":"redelivered:Bool-instance-method","html_id":"redelivered:Bool-instance-method","name":"redelivered","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L25","def":{"name":"redelivered","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redelivered"}},{"id":"reject(requeue=false)-instance-method","html_id":"reject(requeue=false)-instance-method","name":"reject","doc":null,"summary":null,"abstract":false,"args":[{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"args_string":"(requeue = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L41","def":{"name":"reject","args":[{"name":"requeue","doc":null,"default_value":"false","external_name":"requeue","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_reject(@delivery_tag, requeue: requeue)"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Properties","path":"AMQP/Client/Properties.html","kind":"alias","full_name":"AMQP::Client::Properties","name":"Properties","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"amqp-client.cr","line_number":109,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":true,"aliased":"AMQ::Protocol::Properties","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Queue","path":"AMQP/Client/Queue.html","kind":"class","full_name":"AMQP::Client::Queue","name":"Queue","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/queue.cr","line_number":4,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(channel:Channel,name:String)-class-method","html_id":"new(channel:Channel,name:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"args_string":"(channel : Channel, name : String)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L7","def":{"name":"new","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"Channel"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(channel, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"bind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","html_id":"bind(exchange:String,routing_key:String,no_wait=false,args=Arguments.new)-instance-method","name":"bind","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(exchange : String, routing_key : String, no_wait = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L10","def":{"name":"bind","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.queue_bind(@name, exchange, routing_key, no_wait, args)\nself\n"}},{"id":"consumer_count-instance-method","html_id":"consumer_count-instance-method","name":"consumer_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L61","def":{"name":"consumer_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@channel.queue_declare(@name, passive: true))[:consumer_count]"}},{"id":"delete(if_unused=false,if_empty=false)-instance-method","html_id":"delete(if_unused=false,if_empty=false)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"if_empty","doc":null,"default_value":"false","external_name":"if_empty","restriction":""}],"args_string":"(if_unused = <span class=\"n\">false</span>, if_empty = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L53","def":{"name":"delete","args":[{"name":"if_unused","doc":null,"default_value":"false","external_name":"if_unused","restriction":""},{"name":"if_empty","doc":null,"default_value":"false","external_name":"if_empty","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.queue_delete(@name, if_unused, if_empty)"}},{"id":"get(no_ack=true)-instance-method","html_id":"get(no_ack=true)-instance-method","name":"get","doc":null,"summary":null,"abstract":false,"args":[{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""}],"args_string":"(no_ack = <span class=\"n\">true</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L36","def":{"name":"get","args":[{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_get(@name, no_ack)"}},{"id":"message_count-instance-method","html_id":"message_count-instance-method","name":"message_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L57","def":{"name":"message_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@channel.queue_declare(@name, passive: true))[:message_count]"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L5","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name"}},{"id":"publish(io:IO,bytesize:Int,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish(io:IO,bytesize:Int,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(io : IO, bytesize : Int, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L24","def":{"name":"publish","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish(io, bytesize, \"\", @name, mandatory, immediate, props)"}},{"id":"publish(message,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish(message,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(message, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L20","def":{"name":"publish","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish(message, \"\", @name, mandatory, immediate, props)"}},{"id":"publish_confirm(io:IO,bytesize:Int,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish_confirm(io:IO,bytesize:Int,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(io : IO, bytesize : Int, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L32","def":{"name":"publish_confirm","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"},{"name":"bytesize","doc":null,"default_value":"","external_name":"bytesize","restriction":"Int"},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish_confirm(io, bytesize, \"\", @name, mandatory, immediate, props)"}},{"id":"publish_confirm(message,mandatory=false,immediate=false,props=Properties.new)-instance-method","html_id":"publish_confirm(message,mandatory=false,immediate=false,props=Properties.new)-instance-method","name":"publish_confirm","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"args_string":"(message, mandatory = <span class=\"n\">false</span>, immediate = <span class=\"n\">false</span>, props = <span class=\"t\">Properties</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L28","def":{"name":"publish_confirm","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":""},{"name":"mandatory","doc":null,"default_value":"false","external_name":"mandatory","restriction":""},{"name":"immediate","doc":null,"default_value":"false","external_name":"immediate","restriction":""},{"name":"props","doc":null,"default_value":"Properties.new","external_name":"props","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_publish_confirm(message, \"\", @name, mandatory, immediate, props)"}},{"id":"purge-instance-method","html_id":"purge-instance-method","name":"purge","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L49","def":{"name":"purge","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.queue_purge(@name)"}},{"id":"subscribe(tag=&quot;&quot;,no_ack=true,exclusive=false,block=false,args=Arguments.new,&blk:DeliverMessage->Nil)-instance-method","html_id":"subscribe(tag=&amp;quot;&amp;quot;,no_ack=true,exclusive=false,block=false,args=Arguments.new,&amp;blk:DeliverMessage-&gt;Nil)-instance-method","name":"subscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"tag","doc":null,"default_value":"\"\"","external_name":"tag","restriction":""},{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"block","doc":null,"default_value":"false","external_name":"block","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(tag = <span class=\"s\">&quot;&quot;</span>, no_ack = <span class=\"n\">true</span>, exclusive = <span class=\"n\">false</span>, block = <span class=\"n\">false</span>, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>, &blk : DeliverMessage -> Nil)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L40","def":{"name":"subscribe","args":[{"name":"tag","doc":null,"default_value":"\"\"","external_name":"tag","restriction":""},{"name":"no_ack","doc":null,"default_value":"true","external_name":"no_ack","restriction":""},{"name":"exclusive","doc":null,"default_value":"false","external_name":"exclusive","restriction":""},{"name":"block","doc":null,"default_value":"false","external_name":"block","restriction":""},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(DeliverMessage -> Nil)"},"return_type":"","visibility":"Public","body":"@channel.basic_consume(@name, tag, no_ack, exclusive, block, args, &blk)"}},{"id":"unbind(exchange:String,routing_key:String,args=Arguments.new)-instance-method","html_id":"unbind(exchange:String,routing_key:String,args=Arguments.new)-instance-method","name":"unbind","doc":null,"summary":null,"abstract":false,"args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"args_string":"(exchange : String, routing_key : String, args = <span class=\"t\">Arguments</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L15","def":{"name":"unbind","args":[{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"args","doc":null,"default_value":"Arguments.new","external_name":"args","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.queue_unbind(@name, exchange, routing_key, args)\nself\n"}},{"id":"unsubscribe(consumer_tag,no_wait=false)-instance-method","html_id":"unsubscribe(consumer_tag,no_wait=false)-instance-method","name":"unsubscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"args_string":"(consumer_tag, no_wait = <span class=\"n\">false</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/queue.cr#L45","def":{"name":"unsubscribe","args":[{"name":"consumer_tag","doc":null,"default_value":"","external_name":"consumer_tag","restriction":""},{"name":"no_wait","doc":null,"default_value":"false","external_name":"no_wait","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@channel.basic_cancel(consumer_tag, no_wait)"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/ReturnedMessage","path":"AMQP/Client/ReturnedMessage.html","kind":"struct","full_name":"AMQP::Client::ReturnedMessage","name":"ReturnedMessage","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/BaseMessage","kind":"struct","full_name":"AMQP::Client::BaseMessage","name":"BaseMessage"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/message.cr","line_number":14,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(reply_code:UInt16,reply_text:String,exchange:String,routing_key:String,properties:AMQ::Protocol::Properties,body_io:IO::Memory)-class-method","html_id":"new(reply_code:UInt16,reply_text:String,exchange:String,routing_key:String,properties:AMQ::Protocol::Properties,body_io:IO::Memory)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"reply_code","doc":null,"default_value":"","external_name":"reply_code","restriction":"UInt16"},{"name":"reply_text","doc":null,"default_value":"","external_name":"reply_text","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"}],"args_string":"(reply_code : UInt16, reply_text : String, exchange : String, routing_key : String, properties : AMQ::Protocol::Properties, body_io : IO::Memory)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L17","def":{"name":"new","args":[{"name":"reply_code","doc":null,"default_value":"","external_name":"reply_code","restriction":"UInt16"},{"name":"reply_text","doc":null,"default_value":"","external_name":"reply_text","restriction":"String"},{"name":"exchange","doc":null,"default_value":"","external_name":"exchange","restriction":"String"},{"name":"routing_key","doc":null,"default_value":"","external_name":"routing_key","restriction":"String"},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":"AMQ::Protocol::Properties"},{"name":"body_io","doc":null,"default_value":"","external_name":"body_io","restriction":"IO::Memory"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(reply_code, reply_text, exchange, routing_key, properties, body_io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"reply_code:UInt16-instance-method","html_id":"reply_code:UInt16-instance-method","name":"reply_code","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : UInt16","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L15","def":{"name":"reply_code","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@reply_code"}},{"id":"reply_text:String-instance-method","html_id":"reply_text:String-instance-method","name":"reply_text","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/message.cr#L15","def":{"name":"reply_text","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@reply_text"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/SparseArray","path":"AMQP/Client/SparseArray.html","kind":"class","full_name":"AMQP::Client::SparseArray(T)","name":"SparseArray","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/sparse_array.cr","line_number":2,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(initial_capacity=4)-class-method","html_id":"new(initial_capacity=4)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"initial_capacity","doc":null,"default_value":"4","external_name":"initial_capacity","restriction":""}],"args_string":"(initial_capacity = <span class=\"n\">4</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L5","def":{"name":"new","args":[{"name":"initial_capacity","doc":null,"default_value":"4","external_name":"initial_capacity","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = SparseArray(T).allocate\n_.initialize(initial_capacity)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"[](key)-instance-method","html_id":"[](key)-instance-method","name":"[]","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L17","def":{"name":"[]","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store[key].not_nil!"}},{"id":"[]=(key,value)-instance-method","html_id":"[]=(key,value)-instance-method","name":"[]=","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(key, value)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L9","def":{"name":"[]=","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size = @size + 1\nwhile key > @store.size\n  @store << nil\nend\n@store[key] = value\n"}},{"id":"[]?(key)-instance-method","html_id":"[]?(key)-instance-method","name":"[]?","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L21","def":{"name":"[]?","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store[key]"}},{"id":"clear-instance-method","html_id":"clear-instance-method","name":"clear","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L50","def":{"name":"clear","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size = 0\n@store.clear\n"}},{"id":"delete(key)-instance-method","html_id":"delete(key)-instance-method","name":"delete","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L33","def":{"name":"delete","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size = @size - 1\nv = @store[key]\n@store[key] = nil\nv\n"}},{"id":"each_value-instance-method","html_id":"each_value-instance-method","name":"each_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L40","def":{"name":"each_value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store.each.compact_map do |v|\n  v\nend"}},{"id":"each_value(&blk:Client::Channel->_)-instance-method","html_id":"each_value(&amp;blk:Client::Channel-&gt;_)-instance-method","name":"each_value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"(&blk : Client::Channel -> _)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L44","def":{"name":"each_value","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"blk","doc":null,"default_value":"","external_name":"blk","restriction":"(Client::Channel -> _)"},"return_type":"","visibility":"Public","body":"@store.each do |v|\n  if v.nil?\n  else\n    yield v\n  end\nend"}},{"id":"fetch(key,default)-instance-method","html_id":"fetch(key,default)-instance-method","name":"fetch","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":""}],"args_string":"(key, default)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L25","def":{"name":"fetch","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"default","doc":null,"default_value":"","external_name":"default","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@store.fetch(key, default)"}},{"id":"has_key?(key)-instance-method","html_id":"has_key?(key)-instance-method","name":"has_key?","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"args_string":"(key)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L29","def":{"name":"has_key?","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"!(!@store[key]?)"}},{"id":"size-instance-method","html_id":"size-instance-method","name":"size","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sparse_array.cr#L3","def":{"name":"size","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@size"}}],"macros":[],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/Sync","path":"AMQP/Client/Sync.html","kind":"struct","full_name":"AMQP::Client::Sync(T)","name":"Sync","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client/sync.cr","line_number":2,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sync.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(obj:T=T.new)-class-method","html_id":"new(obj:T=T.new)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"obj","doc":null,"default_value":"T.new","external_name":"obj","restriction":"T"}],"args_string":"(obj : T = <span class=\"t\">T</span>.<span class=\"k\">new</span>)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sync.cr#L6","def":{"name":"new","args":[{"name":"obj","doc":null,"default_value":"T.new","external_name":"obj","restriction":"T"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = Sync(T).allocate\n_.initialize(obj)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[{"id":"method_missing(call)-macro","html_id":"method_missing(call)-macro","name":"method_missing","doc":null,"summary":null,"abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client/sync.cr#L9","def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      @mutex.synchronize do\n        @obj.\n{{ call }}\n\n      \nend\n    \n"}}],"types":[]},{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client/UnexpectedFrame","path":"AMQP/Client/UnexpectedFrame.html","kind":"class","full_name":"AMQP::Client::UnexpectedFrame","name":"UnexpectedFrame","abstract":false,"superclass":{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/cloudamqp/amqp-client.cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/cloudamqp/amqp-client.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"amqp-client.cr","line_number":110,"url":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr"}],"repository_name":"github.com/cloudamqp/amqp-client.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/cloudamqp/amqp-client.cr/AMQP/Client","kind":"class","full_name":"AMQP::Client","name":"Client"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(frame:Frame)-class-method","html_id":"new(frame:Frame)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"args_string":"(frame : Frame)","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L114","def":{"name":"new","args":[{"name":"frame","doc":null,"default_value":"","external_name":"frame","restriction":"Frame"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(frame)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new-class-method","html_id":"new-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/cloudamqp/amqp-client.cr/blob/5552da0b4f9a67247fed1e257183380869a8abb7/src/amqp-client.cr#L111","def":{"name":"new","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]}]}]}]}})